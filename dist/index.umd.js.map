{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["function request_image(url, timeout = 5000) {\n  return new Promise((resolve, reject) => {\n    let tko = setTimeout(() => {\n      reject(\"Timed out\");\n    }, timeout);\n\n    var img = new Image();\n    img.onload = function () {\n      clearTimeout(tko);\n      resolve(img);\n    };\n    img.onerror = function () {\n      resolve(img);\n    };\n    img.src =\n      url +\n      \"?random-no-cache=\" +\n      Math.floor((1 + Math.random()) * 0x10000).toString(16);\n  });\n}\n\nexport default function (url, multiplier) {\n  const re = new RegExp(\"^https?://\", \"i\"),\n    pingUrl = re.test(url) ? url : \"https://\" + url;\n  return new Promise((resolve, reject) => {\n    let start = new Date().getTime();\n    this.request_image(pingUrl)\n      .then(() => {\n        let delta = new Date().getTime() - start;\n        delta *= multiplier || 0.9;\n        resolve(delta);\n      })\n      .catch((err) => {\n        console.log(\"Image get issue:\", err);\n        reject(err);\n      });\n  });\n}\n"],"names":["url","multiplier","pingUrl","RegExp","test","Promise","resolve","reject","start","Date","getTime","request_image","then","delta","catch","err","console","log"],"mappings":"+KAqBe,SAAUA,EAAKC,cAE1BC,EADS,IAAIC,OAAO,aAAc,KACrBC,KAAKJ,GAAOA,EAAM,WAAaA,SACvC,IAAIK,iBAASC,EAASC,OACvBC,GAAQ,IAAIC,MAAOC,YAClBC,cAAcT,GAChBU,oBACKC,GAAQ,IAAIJ,MAAOC,UAAYF,EAEnCF,EADAO,GAASZ,GAAc,MAGxBa,eAAOC,GACNC,QAAQC,IAAI,mBAAoBF,GAChCR,EAAOQ"}